{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PrimaryNavigator = PrimaryNavigator;\nexports.canExit = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _taggedTemplateLiteralLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _screens = require(\"../screens\");\n\nvar _bottomTabs = require(\"@react-navigation/bottom-tabs\");\n\nvar _vectorIcons = require(\"@expo/vector-icons\");\n\nvar ImagePicker = _interopRequireWildcard(require(\"expo-image-picker\"));\n\nvar _reanimatedBottomSheet = _interopRequireDefault(require(\"reanimated-bottom-sheet\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar Haptics = _interopRequireWildcard(require(\"expo-haptics\"));\n\nvar _color = require(\"../theme/color\");\n\nvar _components = require(\"../components\");\n\nvar _theme = require(\"../theme\");\n\nvar _client = require(\"@apollo/client\");\n\nvar _storage = require(\"../utils/storage\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _jsxFileName = \"/Users/isaacweber/code/SofamApp/app/navigation/primary-navigator.tsx\";\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteralLoose2.default)([\"\\nmutation uploadFile($file: Upload!) {\\n  uploadFile(file: $file) {\\n    filename\\n    mimetype\\n    encoding\\n    signedRequest\\n    url\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Tab = (0, _bottomTabs.createBottomTabNavigator)();\nvar DEMO = {\n  paddingVertical: _theme.spacing[4],\n  paddingHorizontal: _theme.spacing[4],\n  backgroundColor: _color.color.palette.black,\n  marginTop: 20\n};\nvar BOLD = {\n  fontWeight: \"bold\"\n};\n\nvar DEMO_TEXT = _objectSpread(_objectSpread({}, BOLD), {}, {\n  fontSize: 13,\n  letterSpacing: 2\n});\n\nvar UPLOAD_FILE = (0, _client.gql)(_templateObject());\n\nfunction PrimaryNavigator(props) {\n  var _useMutation = (0, _client.useMutation)(UPLOAD_FILE),\n      _useMutation2 = (0, _slicedToArray2.default)(_useMutation, 1),\n      uploadFile = _useMutation2[0];\n\n  var navigation = (0, _native.useNavigation)();\n\n  function uploadImage(file, signedRequest, url) {\n    var data;\n    return _regenerator.default.async(function uploadImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap(fetch(signedRequest, {\n              method: \"PUT\",\n              body: file,\n              headers: {\n                'Content-type': \"image/jpeg\"\n              }\n            }));\n\n          case 3:\n            data = _context.sent;\n            console.log(\"uploadImage -> data\", data);\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"uploadImage -> error\", _context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  }\n\n  var _pickImage = function _pickImage(screen) {\n    var permissionResult, result;\n    return _regenerator.default.async(function _pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regenerator.default.awrap(ImagePicker.requestCameraRollPermissionsAsync());\n\n          case 3:\n            permissionResult = _context2.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context2.next = 7;\n              break;\n            }\n\n            alert(\"Permission to access camera roll is required!\");\n            return _context2.abrupt(\"return\");\n\n          case 7:\n            _context2.next = 9;\n            return _regenerator.default.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 9:\n            result = _context2.sent;\n\n            if (result.cancelled) {\n              _context2.next = 14;\n              break;\n            }\n\n            _context2.next = 13;\n            return _regenerator.default.awrap((0, _storage.save)(\"@fileObject\", result));\n\n          case 13:\n            navigation.navigate(screen);\n\n          case 14:\n            _context2.next = 19;\n            break;\n\n          case 16:\n            _context2.prev = 16;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0, 'error is here!');\n\n          case 19:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 16]], Promise);\n  };\n\n  var renderContent = function renderContent() {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        backgroundColor: 'white',\n        padding: _theme.spacing[4],\n        height: 250,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-evenly\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        width: 100,\n        height: 5,\n        borderRadius: 10,\n        backgroundColor: 'lightgray',\n        marginTop: -40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }), _react.default.createElement(_components.Button, {\n      style: DEMO,\n      textStyle: DEMO_TEXT,\n      tx: \"modal.createMemory\",\n      onPress: function onPress() {\n        return _pickImage('add-memory');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }), _react.default.createElement(_components.Button, {\n      style: DEMO,\n      textStyle: DEMO_TEXT,\n      text: \"create Story\",\n      onPress: function onPress() {\n        return _pickImage('add-story');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  var sheetRef = _react.default.useRef(null);\n\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(Tab.Navigator, {\n    screenOptions: function screenOptions(_ref) {\n      var route = _ref.route;\n      return {\n        tabBarIcon: function tabBarIcon(_ref2) {\n          var color = _ref2.color,\n              size = _ref2.size;\n          var iconName;\n\n          if (route.name == 'home') {\n            iconName = 'home';\n          } else if (route.name == 'demo') {\n            iconName = 'plussquareo';\n          } else if (route.name == 'profile') {\n            iconName = 'user';\n          }\n\n          return _react.default.createElement(_vectorIcons.AntDesign, {\n            name: iconName,\n            size: size,\n            color: color,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 20\n            }\n          });\n        }\n      };\n    },\n    tabBarOptions: {\n      showLabel: false,\n      activeTintColor: 'tomato',\n      inactiveTintColor: 'gray',\n      style: {\n        display: \"none\"\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(Tab.Screen, {\n    name: \"home\",\n    component: _screens.HomeScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"demo\",\n    component: _screens.DemoScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"profile\",\n    component: _screens.ProfileScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"memory\",\n    component: _screens.MemoryScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"chat\",\n    component: _screens.ChatScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"calendar\",\n    component: _screens.CalendarScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    style: {\n      flexDirection: \"row\",\n      height: 75,\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n      width: \"100%\",\n      backgroundColor: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"home\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_vectorIcons.Octicons, {\n    name: \"home\",\n    size: 30,\n    color: _color.color.palette.black,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"memory\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_vectorIcons.Octicons, {\n    name: \"file-media\",\n    size: 30,\n    color: _color.color.palette.black,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      sheetRef.current.snapTo(0);\n      Haptics.notificationAsync();\n    },\n    style: {\n      marginBottom: 25,\n      backgroundColor: _color.color.palette.black,\n      borderRadius: \"100%\",\n      width: 40,\n      height: 40,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_vectorIcons.AntDesign, {\n    name: \"plus\",\n    size: 30,\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"chat\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_vectorIcons.Octicons, {\n    name: \"comment-discussion\",\n    size: 30,\n    color: _color.color.palette.black,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"calendar\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_vectorIcons.Octicons, {\n    name: \"calendar\",\n    size: 30,\n    color: _color.color.palette.black,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }))), _react.default.createElement(_reanimatedBottomSheet.default, {\n    ref: sheetRef,\n    snapPoints: [250, 0],\n    initialSnap: 1,\n    borderRadius: 10,\n    renderContent: renderContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar canExit = function canExit(routeName) {\n  return exitRoutes.includes(routeName);\n};\n\nexports.canExit = canExit;","map":{"version":3,"sources":["/Users/isaacweber/code/SofamApp/app/navigation/primary-navigator.tsx"],"names":["Tab","DEMO","paddingVertical","spacing","paddingHorizontal","backgroundColor","color","palette","black","marginTop","BOLD","fontWeight","DEMO_TEXT","fontSize","letterSpacing","UPLOAD_FILE","gql","PrimaryNavigator","props","uploadFile","navigation","uploadImage","file","signedRequest","url","fetch","method","body","headers","data","console","log","_pickImage","screen","ImagePicker","requestCameraRollPermissionsAsync","permissionResult","granted","alert","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","navigate","renderContent","padding","height","display","alignItems","justifyContent","width","borderRadius","sheetRef","React","useRef","route","tabBarIcon","size","iconName","name","showLabel","activeTintColor","inactiveTintColor","style","HomeScreen","DemoScreen","ProfileScreen","MemoryScreen","ChatScreen","CalendarScreen","flexDirection","current","snapTo","Haptics","notificationAsync","marginBottom","canExit","routeName","exitRoutes","includes"],"mappings":"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","sourcesContent":["/**\n * This is the navigator you will modify to display the logged-in screens of your app.\n * You can use RootNavigator to also display an auth flow or other user flows.\n *\n * You'll likely spend most of your time in this file.\n */\nimport React from \"react\"\nimport { createStackNavigator } from \"@react-navigation/stack\"\nimport { HomeScreen, DemoScreen, ProfileScreen, MemoryScreen, ChatScreen, CalendarScreen, AddMemoryScreen } from \"../screens\"\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs'\nimport { AntDesign, Octicons } from '@expo/vector-icons'\nimport * as ImagePicker from 'expo-image-picker'\nimport { ReactNativeFile } from 'apollo-upload-client'\nimport BottomSheet from 'reanimated-bottom-sheet'\nimport { Text, View, TouchableOpacity, ViewStyle, TextStyle } from \"react-native\"\nimport * as Haptics from 'expo-haptics'\nimport { color } from '../theme/color'\nimport { Button } from \"../components\"\nimport { spacing } from \"../theme\"\nimport { gql, useMutation } from \"@apollo/client\"\nimport { load, save } from '../utils/storage'\nimport { useNavigation } from \"@react-navigation/native\"\n\n/**\n * This type allows TypeScript to know what routes are defined in this navigator\n * as well as what properties (if any) they might take when navigating to them.\n *\n * If no params are allowed, pass through `undefined`. Generally speaking, we\n * recommend using your MobX-State-Tree store(s) to keep application state\n * rather than passing state through navigation params.\n *\n * For more information, see this documentation:\n *   https://reactnavigation.org/docs/params/\n *   https://reactnavigation.org/docs/typescript#type-checking-the-navigator\n */\nexport type PrimaryParamList = {\n  home: undefined,\n  story: undefined\n}\n\n// Documentation: https://reactnavigation.org/docs/stack-navigator/\nconst Tab = createBottomTabNavigator()\n// const Stack = createStackNavigator<PrimaryParamList>()\n\nconst DEMO: ViewStyle = {\n  paddingVertical: spacing[4],\n  paddingHorizontal: spacing[4],\n  backgroundColor: color.palette.black,\n  marginTop: 20\n}\nconst BOLD: TextStyle = { fontWeight: \"bold\" }\nconst DEMO_TEXT: TextStyle = {\n  ...BOLD,\n  fontSize: 13,\n  letterSpacing: 2,\n}\n\nconst UPLOAD_FILE = gql`\nmutation uploadFile($file: Upload!) {\n  uploadFile(file: $file) {\n    filename\n    mimetype\n    encoding\n    signedRequest\n    url\n  }\n}\n`\n\nexport function PrimaryNavigator(props) {\n  const [uploadFile] = useMutation(UPLOAD_FILE)\n  const navigation = useNavigation()\n  async function uploadImage(file, signedRequest, url) {\n    try {\n      const data = await fetch(signedRequest, {\n        method: \"PUT\",\n        body: file,\n        headers: {\n          'Content-type': \"image/jpeg\"\n        }\n      })\n      console.log(\"uploadImage -> data\", data)\n    } catch (error) {\n      console.log(\"uploadImage -> error\", error)\n    }\n  }\n\n  const _pickImage = async (screen: string) => {\n    try {\n      const permissionResult = await ImagePicker.requestCameraRollPermissionsAsync()\n\n      if (permissionResult.granted === false) {\n        alert(\"Permission to access camera roll is required!\")\n        return\n      }\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n      })\n\n      if (!result.cancelled) {\n        await save(\"@fileObject\", result)\n        navigation.navigate(screen)\n      }\n    } catch (error) {\n      console.log(error, 'error is here!')\n    }\n  }\n  const renderContent = () => (\n    <View\n      style={{\n        backgroundColor: 'white',\n        padding: spacing[4],\n        height: 250,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-evenly\",\n      }}\n    >\n      <View style={{ width: 100, height: 5, borderRadius: 10, backgroundColor: 'lightgray', marginTop: -40 }}></View>\n      <Button\n        style={DEMO}\n        textStyle={DEMO_TEXT}\n        tx=\"modal.createMemory\"\n        onPress={() => _pickImage('add-memory')}\n      />\n      <Button\n        style={DEMO}\n        textStyle={DEMO_TEXT}\n        text=\"create Story\"\n        onPress={() => _pickImage('add-story')}\n      />\n    </View>\n  )\n  const sheetRef = React.useRef(null)\n  return (\n    <>\n      <Tab.Navigator\n        screenOptions={({ route }) => ({\n          tabBarIcon: ({ color, size }) => {\n            let iconName\n            if (route.name == 'home') {\n              iconName = 'home'\n            } else if (route.name == 'demo') {\n              iconName = 'plussquareo'\n            } else if (route.name == 'profile') {\n              iconName = 'user'\n            }\n\n            return <AntDesign name={iconName} size={size} color={color} />\n          }\n        })}\n        tabBarOptions={{\n          showLabel: false,\n          activeTintColor: 'tomato',\n          inactiveTintColor: 'gray',\n          style: {\n            display: \"none\"\n          }\n        }}>\n        <Tab.Screen name=\"home\" component={HomeScreen} />\n        <Tab.Screen name=\"demo\" component={DemoScreen} />\n        <Tab.Screen name=\"profile\" component={ProfileScreen} />\n        <Tab.Screen name=\"memory\" component={MemoryScreen} />\n        <Tab.Screen name=\"chat\" component={ChatScreen} />\n        <Tab.Screen name=\"calendar\" component={CalendarScreen} />\n      </Tab.Navigator>\n\n      <View style={{ flexDirection: \"row\", height: 75, justifyContent: \"space-evenly\", alignItems: \"center\", width: \"100%\", backgroundColor: \"white\" }}>\n        <TouchableOpacity onPress={() => props.navigation.navigate(\"home\")}>\n          <Octicons name=\"home\" size={30} color={color.palette.black} />\n        </TouchableOpacity>\n        <TouchableOpacity onPress={() => props.navigation.navigate(\"memory\")}>\n          <Octicons name=\"file-media\" size={30} color={color.palette.black} />\n        </TouchableOpacity>\n        <TouchableOpacity onPress={() => {\n          sheetRef.current.snapTo(0)\n          Haptics.notificationAsync()\n        }} style={{ marginBottom: 25, backgroundColor: color.palette.black, borderRadius: \"100%\", width: 40, height: 40, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n\n          <AntDesign name=\"plus\" size={30} color=\"white\" />\n        </TouchableOpacity>\n        <TouchableOpacity onPress={() => props.navigation.navigate(\"chat\")}>\n          <Octicons name=\"comment-discussion\" size={30} color={color.palette.black} />\n        </TouchableOpacity>\n        <TouchableOpacity onPress={() => props.navigation.navigate(\"calendar\")}>\n          <Octicons name=\"calendar\" size={30} color={color.palette.black} />\n        </TouchableOpacity>\n      </View>\n      <BottomSheet\n        ref={sheetRef}\n        snapPoints={[250, 0]}\n        initialSnap={1}\n        borderRadius={10}\n        renderContent={renderContent}\n      />\n    </>\n  )\n}\n\nexport const canExit = (routeName: string) => exitRoutes.includes(routeName)\n"]},"metadata":{},"sourceType":"script"}