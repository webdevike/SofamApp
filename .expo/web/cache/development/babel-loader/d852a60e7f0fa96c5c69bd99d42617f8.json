{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HomeScreen = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _taggedTemplateLiteralLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteralLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _mobxReactLite = require(\"mobx-react-lite\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _theme = require(\"../../theme\");\n\nvar _client = require(\"@apollo/client\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _jsxFileName = \"/Users/isaacweber/code/SofamApp/app/screens/home-screen/home-screen.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteralLoose2.default)([\"\\n{\\n  memories {\\n    id\\n    title\\n    location\\n    createdAt\\n  }\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteralLoose2.default)([\"\\n  {\\n  users {\\n    id\\n    name\\n    stories {\\n      id\\n      url\\n    }\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar USERS = (0, _client.gql)(_templateObject());\n\nvar dimensions = _reactNative.Dimensions.get('window');\n\nvar imageWidth = dimensions.width;\nvar MEMORIES = (0, _client.gql)(_templateObject2());\nvar IMAGE = {\n  height: 200,\n  width: 150,\n  borderRadius: 10\n};\nvar IMAGE_WITH_STORY = {\n  height: 200,\n  width: 150,\n  borderRadius: 10,\n  borderWidth: 4,\n  borderColor: \"#F9337C\"\n};\nvar IMAGE_CONTAINER = {\n  margin: _theme.spacing[2]\n};\nvar IMAGE_MEMORY = {\n  width: imageWidth,\n  height: 400\n};\n\nvar renderMemories = function renderMemories(_ref) {\n  var item = _ref.item;\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.Image, {\n    style: IMAGE_MEMORY,\n    source: {\n      uri: item.location\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, item.title));\n};\n\nvar HomeScreen = (0, _mobxReactLite.observer)(function HomeScreen() {\n  var navigation = (0, _native.useNavigation)();\n\n  var _useQuery = (0, _client.useQuery)(USERS),\n      loading = _useQuery.loading,\n      data = _useQuery.data;\n\n  var _useQuery2 = (0, _client.useQuery)(MEMORIES),\n      memoryIsLoading = _useQuery2.loading,\n      allMemories = _useQuery2.data;\n\n  var renderItem = function renderItem(_ref2) {\n    var _item$stories$2, _item$stories$3;\n\n    var item = _ref2.item;\n    return _react.default.createElement(_reactNative.View, {\n      style: IMAGE_CONTAINER,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, _react.default.createElement(_reactNative.TouchableWithoutFeedback, {\n      style: IMAGE,\n      onPress: function onPress() {\n        var _item$stories$;\n\n        if ((_item$stories$ = item.stories[0]) == null ? void 0 : _item$stories$.url) {\n          navigation.navigate('story', _objectSpread({}, item));\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      style: ((_item$stories$2 = item.stories[0]) == null ? void 0 : _item$stories$2.url) ? IMAGE_WITH_STORY : IMAGE,\n      source: {\n        uri: ((_item$stories$3 = item.stories[0]) == null ? void 0 : _item$stories$3.url) || \"https://i.pravatar.cc/300\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    })), _react.default.createElement(_reactNative.Text, {\n      style: {\n        textAlign: 'center',\n        marginTop: _theme.spacing[2]\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, item.name));\n  };\n\n  return _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, loading ? _react.default.createElement(_reactNative.ActivityIndicator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }) : _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.FlatList, {\n    horizontal: true,\n    data: data.users,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }))), memoryIsLoading ? _react.default.createElement(_reactNative.ActivityIndicator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }) : _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.FlatList, {\n    data: allMemories.memories,\n    renderItem: renderMemories,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    showsVerticalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  })));\n});\nexports.HomeScreen = HomeScreen;","map":{"version":3,"sources":["/Users/isaacweber/code/SofamApp/app/screens/home-screen/home-screen.tsx"],"names":["USERS","gql","dimensions","Dimensions","get","imageWidth","width","MEMORIES","IMAGE","height","borderRadius","IMAGE_WITH_STORY","borderWidth","borderColor","IMAGE_CONTAINER","margin","spacing","IMAGE_MEMORY","renderMemories","item","uri","location","title","HomeScreen","navigation","loading","data","memoryIsLoading","allMemories","renderItem","stories","url","navigate","textAlign","marginTop","name","flex","users","id","memories"],"mappings":"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","sourcesContent":["import React, { FunctionComponent as Component } from \"react\"\nimport { observer } from \"mobx-react-lite\"\n\nimport {\n  SafeAreaView,\n  FlatList,\n  Image,\n  ImageStyle,\n  ViewStyle,\n  View,\n  Text,\n  TouchableWithoutFeedback,\n  Dimensions,\n  ActivityIndicator,\n} from \"react-native\"\nimport { spacing } from \"../../theme\"\nimport { gql, useQuery } from \"@apollo/client\"\nimport { useNavigation } from \"@react-navigation/native\"\n\nconst USERS = gql`\n  {\n  users {\n    id\n    name\n    stories {\n      id\n      url\n    }\n  }\n}\n`\nconst dimensions = Dimensions.get('window')\nconst imageWidth = dimensions.width\n\nconst MEMORIES = gql`\n{\n  memories {\n    id\n    title\n    location\n    createdAt\n  }\n}\n`\n\nconst IMAGE: ImageStyle = {\n  height: 200,\n  width: 150,\n  borderRadius: 10,\n}\n\nconst IMAGE_WITH_STORY: ImageStyle = {\n  height: 200,\n  width: 150,\n  borderRadius: 10,\n  borderWidth: 4,\n  borderColor: \"#F9337C\"\n}\n\nconst IMAGE_CONTAINER: ViewStyle = {\n  margin: spacing[2],\n}\n\nconst IMAGE_MEMORY: ImageStyle = {\n  width: imageWidth,\n  height: 400,\n}\n\nconst renderMemories = ({ item }) => {\n  return (\n    <>\n      <Image style={IMAGE_MEMORY} source={{ uri: item.location }}/>\n      <Text>{item.title}</Text>\n    </>\n  )\n}\n\nexport const HomeScreen: Component = observer(function HomeScreen() {\n  const navigation = useNavigation()\n\n  const { loading, data } = useQuery(USERS)\n  const { loading: memoryIsLoading, data: allMemories } = useQuery(MEMORIES)\n\n  const renderItem = ({ item }) => {\n    return (\n      <View style={IMAGE_CONTAINER}>\n        <TouchableWithoutFeedback style={IMAGE} onPress={() => {\n          if (item.stories[0]?.url) {\n            navigation.navigate('story', { ...item })\n          }\n        }\n        }>\n\n          <Image style={item.stories[0]?.url ? IMAGE_WITH_STORY : IMAGE} source={{ uri: item.stories[0]?.url || \"https://i.pravatar.cc/300\" }} />\n        </TouchableWithoutFeedback>\n        <Text style={{ textAlign: 'center', marginTop: spacing[2] }}>{item.name}</Text>\n      </View>\n    )\n  }\n\n  return (\n    <View style={{ flex: 1 }}>\n      <SafeAreaView>\n        {\n          loading\n            ? <ActivityIndicator />\n            : <>\n              <FlatList\n                horizontal={true}\n                data={data.users}\n                renderItem={renderItem}\n                keyExtractor={item => item.id}\n                showsHorizontalScrollIndicator={false}\n\n              />\n            </>\n        }\n      </SafeAreaView>\n\n      {\n\n        memoryIsLoading\n          ? <ActivityIndicator />\n          : <>\n            <FlatList\n              data={allMemories.memories}\n              renderItem={renderMemories}\n              keyExtractor={item => item.id}\n              showsVerticalScrollIndicator={false}\n            />\n          </>\n      }\n    </View>\n  )\n})\n"]},"metadata":{},"sourceType":"script"}